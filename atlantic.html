<html>

<head>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>

    <!-- Adding the A-Frame Extras Library -->
    <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-extras@fb96ab2/dist/aframe-extras.min.js"></script>

    <script src="https://unpkg.com/aframe-orbit-controls@1.3.0/dist/aframe-orbit-controls.min.js"></script>
    <script src="https://unpkg.com/aframe-supercraft-loader@1.1.3/dist/aframe-supercraft-loader.js"></script>

    <!-- Modal Info -->
    <script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.umd.js"></script>
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.css"
/>
</head>

<body>

  <script>
    AFRAME.registerComponent('testboxindicator', {
      schema: {
        default: ''
      },
      init: function () {
        this.el.addEventListener('click', function () {
          Fancybox.show([{ src: "#content", type: "clone" }]);
        });
      }
    });

    AFRAME.registerComponent('testboxindicator2', {
      schema: {
        default: ''
      },
      init: function () {
        this.el.addEventListener('click', function () {
          var el = document.querySelector("#sampletext");
          el.setAttribute("visible", true);
        });
      }
    });

    AFRAME.registerComponent('animationstate1', {
      schema: {
        default: ''
      },
      init: function () {
        this.el.addEventListener('click', function () {
          var el = document.querySelector("#player");
          el.setAttribute("animation-mixer", {
            clip: 'Walk',
            // loop: 'once',
            timeScale: 0.1,
            startAt: 100,
          });
          
        });
      }
    });
    AFRAME.registerComponent('animationstate1-1', {
      schema: {
        default: ''
      },
      init: function () {
        this.el.addEventListener('click', function () {
          var el = document.querySelector("#player");
          el.setAttribute("animation-mixer", {
            clip: 'Walk',
            // loop: 'once',
            timeScale: 0.0,
            startAt: 100,
          });
          
        });
      }
    });

    AFRAME.registerComponent('animationstate2', {
      schema: {
        default: ''
      },
      init: function () {
        this.el.addEventListener('click', function () {
          console.log("Here!");
          var el = document.querySelector("#player");
          el.setAttribute("animation-mixer", {
            clip: 'High_Kick',
            // loop: 'once',
            timeScale: 0.1,
            startAt: 100,
          });


        });
      }
    });

    AFRAME.registerComponent('animationstate2-2', {
      schema: {
        default: ''
      },
      init: function () {
        this.el.addEventListener('click', function () {
          var el = document.querySelector("#player");
          let mixer = el.mixer;
          el.setAttribute("animation-mixer", {
            clip: 'High_Kick',
            // loop: 'once',
            timeScale: 0.0,
            startAt: 300,
          });
        });
      }
    });

  </script>

  <div id="content">
    <h1>Modal Information Test</h1>
    <p>Here is the information about what this object is and how it is effected by climate change over time!</p>
  </div>


    <a-scene cursor="rayOrigin:mouse">

      <a-assets>
        <a-asset-item id="person" src="assets/third_person_animations/scene.gltf"></a-asset-item>
        <a-asset-item id="trex" src="assets/TRex.glb"></a-asset-item>
      </a-assets>

      <a-entity id="trex" position="1 0 -5" gltf-model="#trex" scale="0.15 0.15 0.15" animation-mixer="clip: Armature|TRex_Death; timeScale: .1; startAt: 10000;"></a-entity>

      <!-- <a-entity id="player" position="0 0 -5" gltf-model="#person" animation-mixer="clip: High_Kick; timeScale: 0.1; startAt: 1000"></a-entity> -->
      <a-box animationstate1 position="-1 1 -5" rotation="" color="#f54242" geometry="" scale="0.2 0.3 0.2"></a-box>
      <a-box animationstate2 position="1 1 -5" rotation="" color="#f54242" geometry="" scale="0.2 0.3 0.2"></a-box>
      <a-box animationstate1-1 position="-2 1 -5" rotation="" color="#fFF2" geometry="" scale="0.2 0.3 0.2"></a-box>
      <a-box animationstate2-2 position="2 1 -5" rotation="" color="#fFF2" geometry="" scale="0.2 0.3 0.2"></a-box>

      <!-- Interaction 2 -->
      <a-text id="sampletext" value="Here is some info using an A-Frame component" scale="2 2 1" position="-9 3 -5" visible="false"></a-text>
      <a-box testboxindicator2 position="-5 2 -5" rotation="" color="#f54242" geometry="" scale="0.2 0.3 0.2" animation="property: rotation; to: 0 360 0; easing: linear; loop: true; dur: 10000"></a-box>
      <a-box position="-5 1 -5" rotation="" color="#4CC3D9" geometry="" scale="1 1 1"></a-box>

      <!-- Interaction 1 -->
      <a-box testboxindicator position="4 2 -5" rotation="" color="#f54242" geometry="" scale="0.2 0.3 0.2" animation="property: rotation; to: 0 360 0; easing: linear; loop: true; dur: 10000"></a-box>
      <a-box position="4 1 -5" rotation="" color="#4CC3D9" geometry="" scale="1 1 1"></a-box>

      <a-box position="0 -1.1 -3" material="color: #271a11" geometry="" scale="50 1 50"></a-box>
      <a-ocean color="#0C374F" width="150" depth="150" density="15" speed="0.1" position="0 -1 -25"></a-ocean>
      <a-sky color="#176EAC"></a-sky>

    </a-scene>
  </body>

</html>